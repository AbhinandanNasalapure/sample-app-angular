{"version":3,"sources":["/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact-detail.component.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact-list.component.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact.component.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts-data.service.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.component.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.module.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.states.ts","/Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/edit-contact.component.ts"],"names":[],"mappings":"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","file":"contacts.module.chunk.js","sourcesContent":["import { Component, Input } from '@angular/core';\n\n/**\n * This component renders a read only view of the details for a single contact.\n */\n@Component({\n  selector: 'app-contact-detail',\n  template: `\n  <div class=\"flex-h\">\n    <div class=\"details\">\n      <h3>{{contact.name.first}} {{contact.name.last}}</h3>\n      <div><label>Company</label><div>{{contact.company}}</div></div>\n      <div><label>Age</label><div>{{contact.age}}</div></div>\n      <div><label>Phone</label><div>{{contact.phone}}</div></div>\n      <div><label>Email</label><div>{{contact.email}}</div></div>\n      <div class=\"flex-h\">\n        <label>Address</label>\n        <div>{{contact.address.street}}<br>\n              {{contact.address.city}}, {{contact.address.state}} {{contact.address.zip}}\n        </div>\n      </div>\n    </div>\n\n    <div class=\"flex nogrow\">\n      <img [src]=\"contact.picture\"/>\n    </div>\n  </div>\n`\n  ,\n  styles: []\n})\nexport class ContactDetailComponent {\n  @Input() contact;\n  constructor() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact-detail.component.ts","import { Component, Input } from '@angular/core';\n\n/**\n * This component renders a list of contacts.\n *\n * At the top is a \"new contact\" button.\n * Each list item is a clickable link to the `contacts.contact` details substate\n */\n@Component({\n  selector: 'app-contact-list',\n  template: `\n  <ul class=\"selectlist list-unstyled\">\n    <li>\n      <!-- This link is a relative ui-sref to the contacts.new state. -->\n      <a uiSref=\".new\">\n        <button class=\"btn btn-primary\">\n          <i class=\"fa fa-pencil\"></i><span>New Contact</span>\n        </button>\n      </a>\n    </li>\n\n    <li>&nbsp;</li>\n\n    <!-- Highlight the selected contact:\n        When the current state matches the ui-sref's state (and its parameters)\n        ui-sref-active applies the 'selected' class to the li element -->\n    <li *ngFor=\"let contact of contacts\" >\n      <a uiSref=\".contact\" [uiParams]=\"{contactId: contact._id}\" uiSrefActive=\"selected\">\n        {{contact.name.first}} {{contact.name.last}}\n      </a>\n    </li>\n  </ul>\n`,\n  styles: []\n})\nexport class ContactListComponent {\n  @Input() contacts;\n  constructor() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact-list.component.ts","import { Component, Input } from '@angular/core';\n\n/**\n * This component renders details for a single contact\n *\n * A button messages the contact by linking to `mymessages.compose` state passing the email as a state parameter.\n * Another button edits the contact by linking to `contacts.contact.edit` state.\n */\n@Component({\n  selector: 'app-contact',\n  template: `\n    <div class=\"contact\">\n      <app-contact-detail [contact]=\"contact\"></app-contact-detail>\n    \n      <!-- This button has an ui-sref to the mymessages.compose state. The ui-sref provides the mymessages.compose\n           state with an non-url parameter, which is used as the initial message model -->\n      <button class=\"btn btn-primary\" uiSref=\"mymessages.compose\" [uiParams]=\"{ message: { to: contact.email } }\">\n        <i class=\"fa fa-envelope\"></i><span>Message</span>\n      </button>\n    \n      <!-- This button has a relative ui-sref to the contacts.contact.edit state. -->\n      <button class=\"btn btn-primary\" uiSref=\".edit\">\n        <i class=\"fa fa-pencil\"></i><span>Edit Contact</span>\n      </button>\n      <ui-view></ui-view>\n    </div>\n`,\n  styles: []\n})\nexport class ContactComponent {\n  @Input() contact;\n  constructor() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contact.component.ts","import { AppConfigService } from '../global/app-config.service';\nimport { Injectable } from '@angular/core';\nimport { SessionStorage } from '../util/sessionStorage';\n\nexport interface Contact {\n  tags: any[];\n  address: {\n    zip: number;\n    state: string;\n    city: string;\n    street: string;\n  };\n  phone: string;\n  email: string;\n  company: string;\n  age: number;\n  picture: string;\n  _id: string;\n  name: {\n    last: string;\n    first: string\n  };\n}\n\n/** A fake Contacts REST client API */\n@Injectable()\nexport class ContactsDataService extends SessionStorage<Contact> {\n  constructor(appConfig: AppConfigService) {\n    // http://beta.json-generator.com/api/json/get/V1g6UwwGx\n    super('contacts', 'assets/contacts.json', appConfig);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts-data.service.ts","import { Component, Input } from '@angular/core';\n\n/**\n * This component renders the contacts submodule.\n *\n * On the left is the list of contacts.\n * On the right is the ui-view viewport where contact details appear.\n */\n@Component({\n  selector: 'app-contacts',\n  template: `\n    <div class=\"my-contacts flex-h\">\n    \n      <app-contact-list [contacts]=\"contacts\" class=\"flex nogrow\"></app-contact-list>\n    \n      <ui-view>\n        <!-- This default content is displayed when the ui-view is not filled in by a child state -->\n        <h4 style=\"margin: 1em 2em;\">Select a contact</h4>\n      </ui-view>\n    </div>\n`,\n  styles: []\n})\nexport class ContactsComponent {\n  @Input() contacts;\n  constructor() { }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.component.ts","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ContactComponent } from './contact.component';\nimport { ContactDetailComponent } from './contact-detail.component';\nimport { ContactListComponent } from './contact-list.component';\nimport { ContactsComponent } from './contacts.component';\nimport { EditContactComponent } from './edit-contact.component';\nimport { CONTACTS_STATES } from './contacts.states';\nimport { UIRouterModule } from '@uirouter/angular';\nimport { FormsModule } from '@angular/forms';\nimport { ContactsDataService } from './contacts-data.service';\n\n@NgModule({\n  imports: [\n    UIRouterModule.forChild({ states: CONTACTS_STATES }),\n    FormsModule,\n    CommonModule\n  ],\n  declarations: [\n    ContactComponent,\n    ContactDetailComponent,\n    ContactListComponent,\n    ContactsComponent,\n    EditContactComponent\n  ],\n  providers: [\n    ContactsDataService\n  ],\n})\nexport class ContactsModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.module.ts","import {Ng2StateDeclaration} from '@uirouter/angular';\n\nimport {ContactComponent} from './contact.component';\nimport {ContactsComponent} from './contacts.component';\nimport {EditContactComponent} from './edit-contact.component';\nimport { ContactsDataService } from './contacts-data.service';\nimport { Transition } from '@uirouter/core';\n\n\nexport function getAllContacts(contactSvc) {\n  return contactSvc.all();\n}\n\n/**\n * This state displays the contact list.\n * It also provides a nested ui-view (viewport) for child states to fill in.\n *\n * The contacts are fetched using a resolve.\n */\nexport const contactsState: Ng2StateDeclaration = {\n  parent: 'app', // declares that 'contacts' is a child of 'app'\n  name: 'contacts',\n  url: '/contacts',\n  component: ContactsComponent,\n  resolve: [\n    // Resolve all the contacts.  The resolved contacts are injected into the controller.\n    { token: 'contacts', deps: [ContactsDataService], resolveFn: getAllContacts },\n  ],\n  data: { requiresAuth: true },\n};\n\n\nexport function getOneContact (contactSvc, $transition$) {\n  return contactSvc.get($transition$.params().contactId);\n}\n\n/**\n * This state displays a single contact.\n * The contact to display is fetched using a resolve, based on the `contactId` parameter.\n */\nexport const viewContactState: Ng2StateDeclaration = {\n  name: 'contacts.contact',\n  url: '/:contactId',\n  component: ContactComponent,\n  resolve: [\n    // Resolve the contact, based on the contactId parameter value.\n    // The resolved contact is provided to the contactComponent's contact binding\n    { token: 'contact', deps: [ContactsDataService, Transition], resolveFn: getOneContact },\n  ],\n};\n\n\n/**\n * This state allows a user to edit a contact\n *\n * The contact data to edit is injected from the parent state's resolve.\n *\n * This state uses view targeting to replace the parent ui-view (which would normally be filled\n * by 'contacts.contact') with the edit contact template/controller\n */\nexport const editContactState: Ng2StateDeclaration = {\n  name: 'contacts.contact.edit',\n  url: '/edit',\n  views: {\n    // Relatively target the grand-parent-state's $default (unnamed) ui-view\n    // This could also have been written using ui-view@state addressing: $default@contacts\n    // Or, this could also have been written using absolute ui-view addressing: !$default.$default.$default\n    '^.^.$default': {\n      component: EditContactComponent,\n      bindings: { pristineContact: 'contact' },\n    }\n  },\n};\n\n\nexport function getBlankContact() {\n  return { name: {}, address: {} };\n}\n\n/**\n * This state allows a user to create a new contact\n *\n * The contact data to edit is injected into the component from the parent state's resolve.\n */\nexport const newContactState: Ng2StateDeclaration = {\n  name: 'contacts.new',\n  url: '/new',\n  component: EditContactComponent,\n  resolve: [\n    { token: 'pristineContact', deps: [], resolveFn: getBlankContact }\n  ],\n};\n\nexport const CONTACTS_STATES = [\n  contactsState,\n  viewContactState,\n  editContactState,\n  newContactState,\n];\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/contacts.states.ts","import { Component, OnInit, Input, Inject, OnDestroy } from '@angular/core';\nimport { StateService, TransitionService, equals, StateDeclaration } from '@uirouter/core';\nimport { DialogService } from '../global/dialog.service';\nimport { ContactsDataService } from './contacts-data.service';\nimport { copy } from '../util/util';\n\n/**\n * The EditContact component\n *\n * This component is used by both `contacts.contact.edit` and `contacts.new` states.\n *\n * The component makes a copy of the contqct data for editing.\n * The new copy and original (pristine) copy are used to determine if the contact is \"dirty\" or not.\n * If the user navigates to some other state while the contact is \"dirty\", the `uiCanExit` component\n * hook asks the user to confirm navigation away, losing any edits.\n *\n * The Delete Contact button is wired to the `remove` method, which:\n * - asks for confirmation from the user\n * - deletes the resource from REST API\n * - navigates back to the contacts grandparent state using relative addressing `^.^`\n *   the `reload: true` option re-fetches the contacts list from the server\n *\n * The Save Contact button is wired to the `save` method which:\n * - saves the REST resource (PUT or POST, depending)\n * - navigates back to the parent state using relative addressing `^`.\n *   when editing an existing contact, this returns to the `contacts.contact` \"view contact\" state\n *   when creating a new contact, this returns to the `contacts` list.\n *   the `reload: true` option re-fetches the contacts resolve data from the server\n */\n@Component({\n  selector: 'app-edit-contact',\n  template: `\n    <div class=\"contact\">\n      <div class=\"details\">\n        <div><label>First</label><input type=\"text\" [(ngModel)]=\"contact.name.first\"></div>\n        <div><label>Last</label><input type=\"text\" [(ngModel)]=\"contact.name.last\"></div>\n        <div><label>Company</label><input type=\"text\" [(ngModel)]=\"contact.company\"></div>\n        <div><label>Age</label><input type=\"text\" [(ngModel)]=\"contact.age\"></div>\n        <div><label>Phone</label><input type=\"text\" [(ngModel)]=\"contact.phone\"></div>\n        <div><label>Email</label><input type=\"text\" [(ngModel)]=\"contact.email\"></div>\n        <div><label>Street</label><input type=\"text\" [(ngModel)]=\"contact.address.street\"></div>\n        <div><label>City</label><input type=\"text\" [(ngModel)]=\"contact.address.city\"> </div>\n        <div><label>State</label><input type=\"text\" [(ngModel)]=\"contact.address.state\"></div>\n        <div><label>Zip</label><input type=\"text\" [(ngModel)]=\"contact.address.zip\"></div>\n        <div><label>Image</label><input type=\"text\" [(ngModel)]=\"contact.picture\"></div>\n      </div>\n    \n      <hr>\n    \n      <div>\n        <!-- This button's ui-sref relatively targets the parent state, i.e., contacts.contact -->\n        <button class=\"btn btn-primary\" uiSref=\"^\"><i class=\"fa fa-close\"></i><span>Cancel</span></button>\n        <button class=\"btn btn-primary\" (click)=\"save(contact)\"><i class=\"fa fa-save\"></i><span>Save</span></button>\n        <button class=\"btn btn-primary\" (click)=\"remove(contact)\"><i class=\"fa fa-close\"></i><span>Delete</span></button>\n      </div>\n    </div>\n`,\n  styles: []\n})\nexport class EditContactComponent implements OnInit {\n  @Input() pristineContact;\n  contact;\n  canExit: boolean;\n\n  constructor(public $state: StateService,\n              public dialogService: DialogService,\n              public contactsService: ContactsDataService,\n              // The state that is routing to the component, which could\n              // be either contacts.new or contacts.contact.edit\n              @Inject('$state$') public $state$: StateDeclaration,\n              public transitionService: TransitionService) {\n  }\n\n  ngOnInit() {\n    // Make an editable copy of the pristineContact\n    this.contact = copy(this.pristineContact);\n  }\n\n  uiCanExit() {\n    if (this.canExit || equals(this.contact, this.pristineContact)) {\n      return true;\n    }\n\n    const message = 'You have unsaved changes to this contact.';\n    const question = 'Navigate away and lose changes?';\n    return this.dialogService.confirm(message, question);\n  }\n\n  /** Ask for confirmation, then delete the contact, then go to the grandparent state ('contacts') */\n  remove(contact) {\n    this.dialogService.confirm(`Delete contact: ${contact.name.first} ${contact.name.last}`)\n      .then(() => this.contactsService.remove(contact))\n      .then(() => this.canExit = true)\n      .then(() => this.$state.go('^.^', null, { reload: true }));\n  }\n\n  /** Save the contact, then go to the parent state (either 'contacts' or 'contacts.contact') */\n  save(contact) {\n    this.contactsService.save(contact)\n      .then(() => this.canExit = true)\n      .then(() => this.$state.go('^', null, { reload: true }));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/cthielen/projects/uirouter/sample-app-angular/src/app/contacts/edit-contact.component.ts"],"sourceRoot":"webpack:///"}